<mvc:View
	controllerName="com.myorg.myUI5App.controller.SearchProducts"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:l="sap.ui.layout"
	xmlns:fb="sap.ui.comp.filterbar"
	displayBlock="true"
	height="100%"
	busyIndicatorDelay="0"
>
	<Page
		navButtonTooltip=""
		showNavButton="true"
		navButtonPress="onBackProduct"
		title="{i18n>titleRicercaArt}"
	>
		<l:VerticalLayout width="100%">
			<fb:FilterBar
				reset="onReset"
				search=".onFilterTable"
				showClearButton="true"
			>
				<fb:filterItems>
					<fb:FilterItem
						name="C"
						label="{i18n>codice}"
					>
						<fb:control>
							<Input value="{dropDownModel>/SelectedCodice}"/>
						</fb:control>
					</fb:FilterItem>
					<fb:FilterItem
						name="D"
						label="{i18n>descrizione}"
					>
						<fb:control>
							<Input value="{dropDownModel>/SelectedDescrizione}"/>
						</fb:control>
					</fb:FilterItem>
					<fb:FilterItem
						name="E"
						label="{i18n>categoria}"
					>
						<fb:control>
							<Select
								id="slCategory"
								forceSelection="false"
								selectedKey="{dropDownModel>/SelectedCategoria}"
								items="{
									path: 'dropDownModel>/CategoriesInfo'
								}"
							>
								<core:Item
									key="{dropDownModel>id}"
									text="{dropDownModel>Name}"
								/>
							</Select>
						</fb:control>
					</fb:FilterItem>
					<fb:FilterItem
						name="F"
						label="{i18n>serie}"
					>
						<fb:control>
							<Select
								items="{
									path: 'dropDownModel>/SerieInfo'
								}"
								id="serie"
								selectedKey="{dropDownModel>/selectedSerie}"
								forceSelection="false"
							>
								<core:Item
									key="{dropDownModel>id}"
									text="{dropDownModel>Name}"
								/>
							</Select>
						</fb:control>
					</fb:FilterItem>
					<fb:FilterItem
						name="B"
						label="{i18n>ricercaAvanzata}"
					>
						<fb:control>
							<CheckBox
								id="checkBoxFiltro"
								selected="{dropDownModel>/selectedCheck}"
								select="onSelectCheckBox"
							/>
						</fb:control>
					</fb:FilterItem>
					<fb:FilterItem
						name="A"
						label="{i18n>articolo}"
						visible="{dropDownModel>/visibleArticolo}"
					>
						<fb:control>
							<Input
								id="searchInput"
								value="{dropDownModel>/SelectedItems}"
							/>
						</fb:control>
					</fb:FilterItem>
				</fb:filterItems>
			</fb:FilterBar>
			<Table
				id="idProductsTableItems"
				class="sapUiSmallMarginTop"
				rememberSelections="false"
				items="{
					path: 'Clothing>/ricercaAvanzata',
					sorter: {
						path: 'codice'
					}
				}"
			>
				<headerToolbar>
					<OverflowToolbar id="otbSubheader">
						<ToolbarSpacer/>
						<Button
							text="{i18n>reset}"
							type="Transparent"
							press="onReset"
						/>
						<OverflowToolbarButton
							tooltip="Ordina per codice"
							type="Transparent"
							text="{i18n>sort}"
							icon="sap-icon://sort"
							press="onSort"
						/>
					</OverflowToolbar>
				</headerToolbar>
				<columns>
					<Column width="12em">
						<Text text="{i18n>codiceTable}"/>
					</Column>
					<Column
						minScreenWidth="Tablet"
						demandPopin="true"
					>
						<Text text="{i18n>descrizioneTable}"/>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<Text text="{i18n>codicePrecTable}"/>
					</Column>
					<Column
						width="8rem"
						minScreenWidth="Desktop"
						demandPopin="true"
						hAlign="Center"
					/>
				</columns>
				<items>
					<ColumnListItem
						vAlign="Middle"
						visible="{dropDownModel>/columnVisible}"
					>
						<cells>
							<Text text="{Clothing>codice}"/>
							<Text text="{Clothing>description}"/>
							<Text text="{Clothing>codicePrecedente}"/>
							<HBox>
								<Button
									icon="sap-icon://search"
									press="onOpenDetailProduct"
									class="sapUiSmallMarginEnd"
									tooltip="Dettaglio prodotto"
								/>
								<Button
									icon="sap-icon://check-availability"
									press="onOpenDialogProductAvailability"
									tooltip="DisponibilitÃ  prodotto"
								/>
							</HBox>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</l:VerticalLayout>
	</Page>
</mvc:View>